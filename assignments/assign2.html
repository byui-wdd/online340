<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Assignment 2 | Web Backend Development</title>
  <meta name="description" content="CSE 340 Assignment 2 directions">
  <meta name="viewport" content="width=device-width">
  <link rel="stylesheet" href="/online340/css/340course.css" media="screen">
</head>

<body>
  <div id="wrapper">
    <header id="header"><img src="/online340/images/small_banner.jpg" alt="CSE 340 Banner Image"></header>
    <main>
      <h1>Assignment 2</h1>
      <h2>Purpose</h2>
      <p>This assignment has two tasks. Task one asks you to practice writing and running SQL statements that involve
        <abbr title="Create, Read, Update and Delete">CRUD</abbr> interactions. Task two is to practice building a
        database, with types and tables and populating the tables with data.
      </p>

      <h2>When done you will have created...</h2>
      <ul>
        <li>A sql file containing six queries as described in Task One.</li>
        <li>A sql file containing all the code to create a PostgreSQL type, three tables and insert statements to populate two of the tables, built during the activities.</li>
        <li>A video demonstrating the deletion of a database service and the reestablishment of the service, the remote connection to that service and the execution of SQL code to build the type and tables and populate the tables as described in Task Two.
        </li>
      </ul>

      <h2>Video Demo</h2>
      <p>This video demonstrates and describes what the Task Two video could look like. This is the <a target="_blank" href="../transcripts/assignment2.txt">Transcript</a> of the video.</p>
      </p>
      <iframe width="560" height="315" src="https://www.youtube.com/embed/3L5qc7RrwB8" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>


      <h2>Assumptions</h2>
      <p>This assignment assumes:</p>
      <ol>
        <li>you successfully completed the lesson activities.</li>
        <li>you created and saved the SQL file of CREATE, ALTER and INSERT statements for the course database.</li>
      </ol>

      <h2>Tasks</h2>
      <h3>Task One - Write SQL Statements</h3>

      <p>The Introduction to SQL reading activity contains sample SQL statements for Selecting, Inserting, Updating and
        Deleting data from database table(s), you should have carefully reviewed these as part of this week's
        preparations. Based on the reading:</p>

      <ol>
        <li>Create a new <span class="language-markup">assignment2.sql</span> file inside the database folder of your project.</li>
        <li>Build and test your SQL statements in pgAdmin or SQLTools using the course database.</li>
        <li>Whenever writing a SELECT, UPDATE or DELETE query for a single record, use the primary key value in the
          "WHERE" clause to avoid changing or selecting the incorrect record.</li>
        <li>When your statements are working correctly, store them into the <span class="language-markup">assignment2.sql</span> file.</b></li>
        <li>Write SQL statements to accomplish the following tasks. Each task should be performed using a single query per task:
          <ol>
            <li>Insert the following new record to the account table <span class="notice">Note: The account_id and account_type fields
                should handle their own values and do not need to be part of this query.</span>:
              <div><code><mark>Tony, Stark, tony@starkent.com, Iam1ronM@n</mark></code></div>
            </li>
            <li>Modify the Tony Stark record to change the account_type to "<mark>Admin</mark>".</li>
            <li>Delete the Tony Stark record from the database.</li>
            <li>Modify the "GM Hummer" record to read "a huge interior" rather than "the small interiors" using a single query.
              Explore the <a href="https://www.postgresqltutorial.com/postgresql-string-functions/postgresql-replace/" title="Opens in a new tab" target="_blank">PostgreSQL Replace function</a> <mark>Do NOT retype the entire description as part of the query.</mark>.
              It needs to be part of an Update query as shown in the code examples of the <a href="https://go.oreilly.com/byu-idaho/library/view/simply-sql/9780980455250/Text/ch01.html" title="Opens in a new tab" target="_blank">SQL Reading</a> - Read Ch. 1, section 3.</li>
            <li>Use an inner join to select the make and model fields from the inventory table and the classification name field from the classification table for inventory items that belong to the "Sport" category. These resources may help you: <a href="https://www.postgresqltutorial.com/postgresql-tutorial/postgresql-joins/" title="Link opens in a new tab" target="_blank">https://www.postgresqltutorial.com/postgresql-tutorial/postgresql-joins/</a>. Two
              records should be returned as a result of the query.</li>

            <li>Update all records in the inventory table to add "/vehicles" to the middle of the file path in the
              inv_image and inv_thumbnail columns using a single query. This reference may prove helpful - <a href="https://www.postgresqltutorial.com/postgresql-string-functions/postgresql-replace/" title="This page opens in a new tab" target="_blank">https://www.postgresqltutorial.com/postgresql-string-functions/postgresql-replace/</a>. <mark>When done the path for both inv_image and inv_thumbnail should resemble this example: <code>/images/vehicles/a-car-name.jpg</code></mark>
            </li>
            <li>When done with the six queries, copy and paste queries 4 and 6  from the assignment 2 file to the database rebuild file, at the bottom of that file. Make sure these two queries are the last thing to run when the rebuild file is complete. By the end you should have two files - one with the 6 queries from Task 1, and the second with all the queries to rebuild your database, along with copies of the 4th and 6th queries from Task 1.</li>
          </ol>
        </li>
      </ol>

      <h3>Task Two - Destroy and Rebuild the Database</h3>

      <p>You should already be aware that Render.com removes free-tier databases after 90 days. Therefore, it is critical that you know how to restore your database when that happens. Task two requires you to go through the entire process manually, so you know how to do it again when the time comes. You will probably need to do this at least twice. Once to make sure you know the process and the second time to record a video of you doing so. The video should be <strong>less than four minutes in length</strong> - so you need to know exactly what you're doing.</p>

      <ol>
        <li>Destroy the database service in the Render.com dashboard by clicking on the database service, scrolling to the bottom and clicking "Delete Database" and following the provided directions.</li>
        <li>Create a new database following the directions from this unit as needed. <mark>The database name cannot be the same as the old one, but can be similar.</mark></li>
        <li>Delete the existing connection to the remote database in the local tool: pgAdmin or SQLTools.</li>
        <li>Create a new connection between the database and one of the local tools: pgAdmin or SQLTools.</li>
        <li>Run the SQL code (you should already have all these queries stored in the database folder of your project), as a set of queries, run at the same time, to build the Type object, the three tables, and populate the classification and inventory tables. And, the copies of queries 4 and 6 from Task 1, should be run as the last items in the restore file.</li>
        <li>Show that the structures and data exist.</li>
      </ol>
      <h2>Submission</h2>
      <ul>
        <li>Work with your learning team to help one another to accomplish each task and post to and read the weekly discussion board to help one another. <strong>Remember that each individual is responsible for her or his own work, this is not a group project.</strong></li>
        <li>Check your work to ensure that it meets all the expectations listed.</li>
        <li>Create a video showing the process described in task 2. You will want to pause the video while the database is being created, which is usually less than five minutes.</li>
        <li>Post your video to your YouTube channel as <b>"Unlisted"</b> and copy the link to the video when published.</li>
        <li>Upload the project to your GitHub repository and copy the URL to the repository.</li>
        <li>Submit the YouTube video URL <b>AND</b> the GitHub repository URL as a comment in the assignment submission.</li>
        <li><mark>Note: Because the production server does not change with this assignment, you do NOT need to submit the production URL for assignment 2. However, you will need to do so for all other assignments!</mark></li>
        <!-- <li>Zip the <span class="language-markup">database</span> folder, making sure it contains the SQL files used in the lesson activities and this assignment, and name it assignment 2 (save this zip file outside your website)</li> -->
        <!-- <li>Submit the zip file to the assignment 2 submission and add the video URL to the assignment submission comment.</li> -->
        </ol>
        </li>
      </ul>

      <h2>Grading Matrix</h2>
      <h3>Objective 4</h3>
      <ul>
        <li>All Task 1 SQL statements are in a single file, named <span class="language-markup">assignment2.sql</span> within a folder named <span class="language-markup">database</span>.</li>
        <li>The Tony Stark insert SQL statement works.</li>
        <li>The Tony Stark update SQL statement works.</li>
        <li>The delete Tony Stark SQL statement works.</li>
        <li>The description update SQL statement works.</li>
        <li>The select query using a JOIN SQL statement works.</li>
        <li>The inv_image and inv_thumbnail update query works.</li>
        <li>The SQL file containing all queries to build the type, tables and insert data is present and works.</li>
        <li>Obj. 4 value: Refer to grade book</li>
      </ul>

      <h3>Objective 6</h3>
      <ul>
        <li>The Task 2 video showing the database delete and restoration process is present and complete, narrated using your voice, and less than 4 minutes in length. The video URL must be present and correct for Task 2 to be graded.</li>
        <li>The files for Tasks 1 and 2 are both present and complete in the "database" folder within the GitHub repository.</li>
<!-- <li>The zip file of the database folder, containing all the SQL files used in the activities and assignment, is present. The zip file and video URL are submitted correctly and on time.</li> -->
        <li>Obj. 6 value: Refer to grade book</li>
      </ul>
    </main>
  </div>
</body>

</html>